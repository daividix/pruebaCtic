<div style="height: 100vh">
  <app-navbar></app-navbar>
  <div class="alert alert-success alert-dismissible fade show" role="alert" *ngIf="facturaGenerada">
      <h5>Se ha generado la factura correctamente</h5>
      <button type="button" (click)="facturaGenerada = false" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  <div class="row">
    <div class="col-md-5">
      <form (submit)="generarFactura()">
        <h2>Generar Factura</h2>
        <div class="form-group">
          <label for="cliente">Cliente</label>
          <select class="form-control" name="cliente" [(ngModel)]="infoForm.cliente">
            <option>Seleccione...</option>
            <option *ngFor="let cliente of clientes" [value]="cliente.id">{{cliente.nombres}} {{cliente.apellidos}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="producto">Producto</label>
          <select class="form-control" name="producto" [(ngModel)]="infoForm.producto">
              <option>Seleccione...</option>
            <option *ngFor="let producto of productos" [value]="producto.id">{{producto.nombre}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="cantidad">Cantidad</label><br>
          <input type="number" [(ngModel)]="infoForm.cantidad" name="cantidad" id="cantidad" class="w-100">
        </div>
        <div class="d-flex justify-content-center">
          <button class="btn btn-light" (click)="agregarProducto($event)">Agregar Porducto</button>
          <input type="submit" value="Generar factura" class="btn btn-light">
        </div>

      </form>
    </div>
    <div class="col-md-5">
        <h1>Productos Seleccionados</h1>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Nombre</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Iva</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let productoSeleccionado of productosSeleccionados">
                    <td>{{productoSeleccionado.nombre}}</td>
                    <td>{{productoSeleccionado.precio}}</td>
                    <td>{{productoSeleccionado.cantidad}}</td>
                    <td>{{productoSeleccionado.iva}}</td>
                </tr>
            </tbody>
        </table>
    </div>
  </div>
</div>
